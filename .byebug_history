c
file
encrypted
n
@cipher
File.read file
encrypted
n
File.exist? file
file
n
Dir.glob('.')
Dir.glob
__dir__
Dir.pwd
pwd
File.exist? file
file
exit
File.exist? @dkfile
ENV['DEPLOY_KEY']
exit
get_deploy_key
@environment
c
subject
c
subject
exit
@dkfile
n
@dkfile
n
c
n
c
exit
HandsomeFencer::CircleCI::Crypto.new
HandsomeFencer::CircleCI::Crypto
HandsomeFencer.class
HandsomeFencer
continue
directory
continue
c
assert_file "blah"
Rails.application
Rails
Rails.root
__dir__
exit
Dir.glob(Rails.root.join(directory + "/**/*#{extension}"))
(Rails.root.join(directory + "/**/*#{extension}"))
Rails.root.join(directory + "/**/*#{extension}")
Rails.root.join(directory) + "/**/*#{extension}"
Rails.root.join(directory)
Rails.root
extension
directory
        Dir.glob(Rails.root.join(directory).to_s + "/**/*#{extension}")
Dir.glob(Rails.root.join(directory) + "/**/*/.env")
Dir.glob(Rails.root.join(directory + "/**/*/.env"))
Dir.glob(Rails.root.join(directory + "/**/*/.env))
Dir.glob(Rails.root.join(directory + "/**/*/.env)).
Dir.glob(Rails.root.join(directory)).class
Dir.glob(Rails.root.join(directory))
Dir.glob(Rails.root.join(directory)
Dir.glob(Rails.root.join(directory).to_s
Dir.glob(Rails.root.join(directory).to_s.class
Dir.glob(Rails.root.join(directory).to_s.first)
Dir.glob(Rails.root.join(directory).to_s)
Rails.root.join(directory).to_s
Rails.root.join(directory).class
Rails.root.join(directory)
Rails.root.join(directory).to_s
Rails.root.join('.circleci/.env').to_s
Rails.root.join('.circleci/.env')
directory
File.exist? Rails.root.join('.circleci/.env')
exit
env_files[4]
env_files[3]
env_files[2]
env_files[1]
env_files[0]
env_files.size
exit
env_files.size
env_files[4]
env_files[3]
env_files[2]
env_files[1]
env_files[0]
exit
Rails
extension
directory
exit
file.class
file
exit
File.exist? file
file
exit
filename
File.exist? filename
filename
data
filename
c
File.exist? file
file
c
File.exist? Rails.root.join(file)
File.exist? file
file
exit
File.exist? file
file
c
exit
file.to_s + ".enc"
file.to_s + .enc
file + '.enc'
file
exit
filename
exit
file
exit
file
exit
file
self
file
exit
file
filie
exit
filename
data
exit
File.exist? Rails.root.join(file)
File.exist? file
file
exit
eit
passkey
exit
self
n
write_to_file(Base64.encode64(encrypted), file + '.enc')
writewrite_to_file(Base64.encode64(encrypted), file + '.enc')
encrypted
n
@cipher
n
file
exit
subject.encrypt(env_file)
subject
env_enc_file
exit
File.read(deploy_key_file)
File.exist? deploy_key_file
passkey
pass_phrase
exit
eit
File.exist? 'circleci/deploy.key'
c
pass_phrase
exit
ENV['DEPLOY_KEY']
c
exit
EXIT
ENV['DEPLOY_KEY']
continue
exit
dkfile
exit
Rails.root.join('.circleci/.env')
Rails.root
Dir.pwd
exit
Dir.pwd
exit
Dir.pwd
Dir.chdir 'test/dummy'
Dir.pwd
Dir.methods(false)
Dir.methods(true)
Dir.methods
dir.metods
Dir
ls
__dir__
__DIR__
__FILE__
@cipher
@salt
c
exit
EXIT
__FILE__
__dir__
subject
c
exit
